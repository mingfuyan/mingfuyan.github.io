<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="欢迎访问 Solo_Dance的博客"><meta name="keywords" content="solodance, mingfuyan, mingfuyan的博客, Solo_Dance, solodance, Solo_Dance的博客, solodanceの博客, Solo_Danceの博客"><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style-dark.css?v=2.0.4"><link rel="stylesheet" type="text/css" href="/css/highlight-dark.css?v=2.0.4"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><link rel="stylesheet" type="text/css" href="https://unpkg.com/gitalk/dist/gitalk.css?v=2.0.4"><title>SDNU_ACM_ICPC_2020_Winter_Practice_2nd【解题报告】 | Solo_Dance的博客</title><meta name="generator" content="Hexo 4.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">SDNU_ACM_ICPC_2020_Winter_Practice_2nd【解题报告】</h1><a id="logo" href="/.">Solo_Dance的博客</a><p class="description">欢迎访问 Solo_Dance的博客</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">SDNU_ACM_ICPC_2020_Winter_Practice_2nd【解题报告】</h1><div class="post-meta"><a href="/2020/01/29/SDNU_ACM_ICPC_2020_Winter_Practice_2nd%E3%80%90%E8%A7%A3%E9%A2%98%E6%8A%A5%E5%91%8A%E3%80%91/#comments" class="comment-count"></a><p><span class="date">Jan 29, 2020</span><span><a href="/categories/%E8%A7%A3%E9%A2%98%E6%8A%A5%E5%91%8A/" class="category">解题报告</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>部分参照 <a href="https://blog.csdn.net/The___Flash/article/details/103939876" target="_blank" rel="noopener">SDNU_ACM_ICPC_2020_Winter_Practice_2nd【解题报告】– The__Flash</a>。<br>欢迎评论提问， 纠错</p>
<p>文章篇幅较长， 请参考右侧<strong>文章目录</strong>食用。</p>
<p>专题链接： <a href="https://vjudge.net/contest/352473" target="_blank" rel="noopener">SDNU_ACM_ICPC_2020_Winter_Practice_2nd</a></p>
<a id="more"></a>

<h2 id="A-HDU-1559-【The-Flash】的矩阵"><a href="#A-HDU-1559-【The-Flash】的矩阵" class="headerlink" title="A HDU 1559 【The__Flash】的矩阵"></a>A HDU 1559 【The__Flash】的矩阵</h2><h3 id="1-题目大意"><a href="#1-题目大意" class="headerlink" title="1. 题目大意"></a>1. 题目大意</h3><p>给你一个<code>m×n</code>的整数矩阵，在上面找一个<code>x×y</code>的子矩阵，使子矩阵中所有元素的和最大。</p>
<h3 id="2-分析"><a href="#2-分析" class="headerlink" title="2. 分析"></a>2. 分析</h3><p>一开始我以为是最大子矩阵和,  做了几个题回来发现就是个二维前缀和.</p>
<h3 id="3-AC代码"><a href="#3-AC代码" class="headerlink" title="3. AC代码"></a>3. AC代码</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-8</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">0x3f3f3f3f3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;ans)</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    ans = x * w;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">1003</span>][<span class="number">1003</span>];</span><br><span class="line"><span class="keyword">int</span> m, n, x, y;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    read(t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        read(m), read(n), read(x), read(y);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j)&#123;</span><br><span class="line">                read(a[i][j]);</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j != <span class="number">0</span>)&#123;</span><br><span class="line">                    a[i][j] += a[i][j - <span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i != <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>)&#123;</span><br><span class="line">                    a[i][j] += a[i - <span class="number">1</span>][j];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i != <span class="number">0</span> &amp;&amp; j != <span class="number">0</span>)&#123;</span><br><span class="line">                    a[i][j] += a[i - <span class="number">1</span>][j] + a[i][j - <span class="number">1</span>] - a[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>, temp;</span><br><span class="line">        x--, y--;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m - x; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n - y; ++j)&#123;</span><br><span class="line">                temp = a[i + x][j + y];</span><br><span class="line">                <span class="keyword">if</span> (i)</span><br><span class="line">                    temp -= a[i - <span class="number">1</span>][j + y];</span><br><span class="line">                <span class="keyword">if</span> (j)</span><br><span class="line">                    temp -= a[i + x][j - <span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (i &amp;&amp; j)</span><br><span class="line">                    temp += a[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">                ans = max(ans, temp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="B-HDU-3790-【The-Flash】的疑惑"><a href="#B-HDU-3790-【The-Flash】的疑惑" class="headerlink" title="B HDU 3790 【The__Flash】的疑惑"></a>B HDU 3790 【The__Flash】的疑惑</h2><h3 id="1-题目大意-1"><a href="#1-题目大意-1" class="headerlink" title="1. 题目大意"></a>1. 题目大意</h3><p>给你n个点，m条无向边，每条边都有长度d和花费p，给你起点s终点t，要求输出起点到终点的最短距离及其花费，如果最短距离有多条路线，则输出花费最少的。</p>
<h3 id="2-分析-1"><a href="#2-分析-1" class="headerlink" title="2. 分析"></a>2. 分析</h3><p>就是个最短路, 需要维护两个东西, 最短距离和花费.</p>
<h3 id="3-AC代码-1"><a href="#3-AC代码-1" class="headerlink" title="3. AC代码"></a>3. AC代码</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-8</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">std</span>::pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">0x3f3f3f3f3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;ans)</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    ans = x * w;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v, w, c, ne;</span><br><span class="line">&#125;ed[<span class="number">200005</span>];</span><br><span class="line"><span class="keyword">int</span> head[N], dis[N], dis1[N], vis[N], cnt;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ms(head, <span class="number">-1</span>);</span><br><span class="line">    ms(dis, INF);</span><br><span class="line">    ms(dis1, INF);</span><br><span class="line">    ms(vis, <span class="number">0</span>);</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> w, <span class="keyword">int</span> c)</span></span>&#123;</span><br><span class="line">    ed[cnt] = &#123;v, w, c, head[u]&#125;;</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">priority_queue&lt;P, <span class="built_in">vector</span>&lt;P&gt;, greater&lt;P&gt; &gt; q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijk</span><span class="params">(<span class="keyword">int</span> u)</span></span>&#123;</span><br><span class="line">    dis[u] = <span class="number">0</span>;</span><br><span class="line">    dis1[u] = <span class="number">0</span>;</span><br><span class="line">    q.push(P(<span class="number">0</span>, u));</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">         u = q.top().second;</span><br><span class="line">         q.pop();</span><br><span class="line">         <span class="keyword">if</span> (vis[u]) <span class="keyword">continue</span>;</span><br><span class="line">         vis[u] = <span class="number">1</span>;</span><br><span class="line">         <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; ~i; i = ed[i].ne)&#123;</span><br><span class="line">             <span class="keyword">int</span> v = ed[i].v, w = ed[i].w, c = ed[i].c;</span><br><span class="line">             <span class="comment">// 维护dis 和 dis1</span></span><br><span class="line">             <span class="keyword">if</span> (dis[v] &gt; dis[u] + w)&#123;</span><br><span class="line">                 dis[v] = dis[u] + w;</span><br><span class="line">                 dis1[v] = dis1[u] + c;</span><br><span class="line">                 q.push(P(dis[v], v));</span><br><span class="line">             &#125;</span><br><span class="line">             <span class="keyword">else</span> <span class="keyword">if</span> (dis[v] == dis[u] + w)&#123;</span><br><span class="line">                 dis1[v] = min(dis1[v], dis1[u] + c);</span><br><span class="line">                 q.push(P(dis[v], v));</span><br><span class="line">             &#125;</span><br><span class="line"></span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, u, v, w, c, s, t;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m))&#123;</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="number">0</span> &amp;&amp; n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i)&#123;</span><br><span class="line">            read(u), read(v), read(w), read(c);</span><br><span class="line">            add(u, v, w, c);</span><br><span class="line">            add(v, u, w, c);</span><br><span class="line">        &#125;</span><br><span class="line">        read(s), read(t);</span><br><span class="line">        dijk(s);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; dis[t] &lt;&lt; <span class="string">' '</span> &lt;&lt; dis1[t] &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="C-CodeForces-670C-【The-Flash】的电影"><a href="#C-CodeForces-670C-【The-Flash】的电影" class="headerlink" title="C CodeForces 670C 【The__Flash】的电影"></a>C CodeForces 670C 【The__Flash】的电影</h2><h3 id="1-题目大意-2"><a href="#1-题目大意-2" class="headerlink" title="1. 题目大意"></a>1. 题目大意</h3><p>有n个人， 每个人只会一种语言， 然后有m场电影， 电影的声音和字幕是两种不同的语言， 问 选择哪一场电影， 使得能听懂的人最多， 如果能听懂的一样多， 那么就使能看懂的人最多， 如果听懂的和看懂的都一样多，  输出其中任何一场电影都行。</p>
<h3 id="2-分析-2"><a href="#2-分析-2" class="headerlink" title="2. 分析"></a>2. 分析</h3><p>比较直观的想法， 统计每个语言会的人数， 遍历m场电影， 选择能听懂的最大的， 如果能听懂的一样多， 选择能看懂的最大的。（由于数据太大进行离散化处理）</p>
<p>我当时没直接离散化，偷懒用的map， wa了两次，最后 还是用map， set卡过了<code>(*^▽^*)</code></p>
<p>下面贴离散化的做法</p>
<h3 id="3-AC代码-2"><a href="#3-AC代码-2" class="headerlink" title="3. AC代码"></a>3. AC代码</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-7</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">2e5</span> + <span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">1e6</span> + <span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">4611686018427387903</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">10007</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x * w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> a[N], b[N], c[N], d[N * <span class="number">3</span>], num[N];</span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> lower_bound(d + <span class="number">1</span>, d + len + <span class="number">1</span>, x) - d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m;</span><br><span class="line">    n = read();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) a[i] = read();</span><br><span class="line">    m = read();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) b[i] = read();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) c[i] = read();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) d[++len] = a[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) d[++len] = b[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) d[++len] = c[i];</span><br><span class="line">    sort(d + <span class="number">1</span>, d + len + <span class="number">1</span>);</span><br><span class="line">    len = unique(d + <span class="number">1</span>, d + len + <span class="number">1</span>) - (d + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) num[f(a[i])]++;</span><br><span class="line">    <span class="keyword">int</span> mx1 = <span class="number">-1</span>, mx2 = <span class="number">-1</span>, id;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)&#123;</span><br><span class="line">        b[i] = f(b[i]) ,c[i] = f(c[i]);</span><br><span class="line">        <span class="keyword">if</span> (mx1 &lt; num[b[i]] || mx1 == num[b[i]] &amp;&amp; mx2 &lt; num[c[i]])&#123;</span><br><span class="line">            mx1 = num[b[i]];</span><br><span class="line">            mx2 = num[c[i]];</span><br><span class="line">            id = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; id &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-后继"><a href="#4-后继" class="headerlink" title="4. 后继"></a>4. 后继</h3><p>打算写一篇关于 unique 用法的博客， 写完了回来补上。</p>
<h2 id="D-UVA-10305-【The-Flash】的排序"><a href="#D-UVA-10305-【The-Flash】的排序" class="headerlink" title="D UVA 10305 【The__Flash】的排序"></a>D UVA 10305 【The__Flash】的排序</h2><h3 id="1-题目大意-3"><a href="#1-题目大意-3" class="headerlink" title="1. 题目大意"></a>1. 题目大意</h3><p>拓扑排序裸题</p>
<h3 id="2-分析-3"><a href="#2-分析-3" class="headerlink" title="2. 分析"></a>2. 分析</h3><p>拓扑排序裸题</p>
<h3 id="3-AC代码-3"><a href="#3-AC代码-3" class="headerlink" title="3. AC代码"></a>3. AC代码</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-8</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">std</span>::pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">0x3f3f3f3f3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;ans)</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    ans = x * w;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, a, b, in[<span class="number">102</span>];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;ve[N];</span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;q;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;ans;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        ve[i].clear();</span><br><span class="line">        in[i] = <span class="number">0</span>;</span><br><span class="line">        ans.clear();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m) &amp;&amp; (m || n))&#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">            read(a), read(b);</span><br><span class="line">            ve[a].push_back(b);</span><br><span class="line">            in[b]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span> (in[i] == <span class="number">0</span>) q.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">            <span class="keyword">int</span> u = q.front();</span><br><span class="line">            q.pop();</span><br><span class="line">            ans.push_back(u);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ve[u].size(); ++i)&#123;</span><br><span class="line">                <span class="keyword">int</span> v = ve[u][i];</span><br><span class="line">                in[v]--;</span><br><span class="line">                <span class="keyword">if</span>(in[v] == <span class="number">0</span>) q.push(v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ans.size() - <span class="number">1</span>; ++i)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; ans[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans.back() &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="E-HDU-4578-【The-Flash】的操作"><a href="#E-HDU-4578-【The-Flash】的操作" class="headerlink" title="E HDU 4578 【The__Flash】的操作"></a>E HDU 4578 【The__Flash】的操作</h2><h3 id="1-题目大意-4"><a href="#1-题目大意-4" class="headerlink" title="1. 题目大意"></a>1. 题目大意</h3><p>裸线段树， 就是有些许麻烦。4个操作</p>
<figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">1 </span>x y c 将[x, y]区间的数加c</span><br><span class="line"><span class="symbol">2 </span>x y c 将[x, y]区间的数乘c</span><br><span class="line"><span class="symbol">3 </span>x y c 将[x, y]区间的数重置为c</span><br><span class="line"><span class="symbol">4 </span>x y p 输出[x, y]区间的数的 p次方和</span><br></pre></td></tr></table></figure>

<h3 id="2-分析-4"><a href="#2-分析-4" class="headerlink" title="2. 分析"></a>2. 分析</h3><p>两种做法， 先说第一种也是通俗易懂的一种但是代码写起来很抓狂。。。<br>3个lazy数组， 3个存值数组</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">add</span><span class="selector-attr">[i]</span> 加标记</span><br><span class="line"><span class="selector-tag">mul</span><span class="selector-attr">[i]</span> 乘标记</span><br><span class="line"><span class="selector-tag">sett</span><span class="selector-attr">[i]</span> 重置标记</span><br><span class="line"><span class="selector-tag">sum</span><span class="selector-attr">[i]</span> 1次方和</span><br><span class="line"><span class="selector-tag">sum2</span><span class="selector-attr">[i]</span> 2次方和</span><br><span class="line"><span class="selector-tag">sum3</span><span class="selector-attr">[i]</span> 3次方和</span><br></pre></td></tr></table></figure>

<p>难弄的是add[i] 的 二、三次方和 怎么求。酱紫</p>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sum2[rt] = (a + add) ^ <span class="number">2</span> + (b + add) ^ <span class="number">2</span> + (c + add) ^ <span class="number">2</span></span><br><span class="line">= (a^<span class="number">2</span> + b^<span class="number">2</span> + c^<span class="number">2</span>) + <span class="number">2</span> * add * (a + b + c) + <span class="number">3</span> * val ^ <span class="number">2</span></span><br><span class="line">= sum2[rt] + <span class="number">2</span> * add[rt] * <span class="built_in">sum</span>[rt] + (r - l + <span class="number">1</span>) * add[rt] * add[rt]</span><br><span class="line"></span><br><span class="line">sum3[rt] = (a + add) ^ <span class="number">3</span> + (b + add) ^ <span class="number">3</span> + (c + add) ^ <span class="number">3</span></span><br><span class="line">= (a^<span class="number">3</span> + b^<span class="number">3</span> + c ^ <span class="number">3</span>) + <span class="number">3</span> * add * (a^<span class="number">2</span> + b^<span class="number">2</span> + c^<span class="number">2</span>) + <span class="number">3</span> * add * add * (a + b + c) + <span class="number">3</span> * add * add * add</span><br><span class="line"> = sum3[rt] + <span class="number">3</span> * add[rt] * sum2[rt] + <span class="number">3</span> * add[rt] * add[rt] + <span class="built_in">sum</span>[rt] + (r - l + <span class="number">1</span>) * add[rt] * add[rt] * add[rt]</span><br></pre></td></tr></table></figure>

<p>然后就是快乐了写代码时间了， 记得注意取余（因为取余我debug了2小时+ <code>o(╥﹏╥)o</code>）</p>
<p>第二种， 只用一个lazy数组， 太妙了， 它是以区间里的数是否相等作为lazy数组</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">flag[<span class="built_in">i</span>] <span class="built_in">i</span>表示的区间里的数是否相等</span><br><span class="line">val[<span class="built_in">i</span>] <span class="built_in">i</span>表示的区间里的数的值</span><br></pre></td></tr></table></figure>

<h3 id="3-AC代码-4"><a href="#3-AC代码-4" class="headerlink" title="3. AC代码"></a>3. AC代码</h3><p>第一种方法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-7</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">1e6</span> + <span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">4611686018427387903</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">10007</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x * w;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> mul[N &lt;&lt; <span class="number">2</span>], sett[N &lt;&lt; <span class="number">2</span>], add[N &lt;&lt; <span class="number">2</span>], sum[N &lt;&lt; <span class="number">2</span>], sum2[N &lt;&lt; <span class="number">2</span>], sum3[N &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span> </span>&#123;</span><br><span class="line">    sum3[rt] = (sum3[rt &lt;&lt; <span class="number">1</span>] + sum3[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>]) % mod;</span><br><span class="line">    sum2[rt] = (sum2[rt &lt;&lt; <span class="number">1</span>] + sum2[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>]) % mod;</span><br><span class="line">    sum[rt] = (sum[rt &lt;&lt; <span class="number">1</span>] + sum[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>]) % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span> </span>&#123;</span><br><span class="line">    sett[rt] = add[rt] = <span class="number">0</span>;</span><br><span class="line">    mul[rt] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (l == r) &#123;</span><br><span class="line">        sum[rt] = sum2[rt] = sum3[rt] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    build(l, m, rt &lt;&lt; <span class="number">1</span>);</span><br><span class="line">    build(m + <span class="number">1</span>, r, rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt, <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (sett[rt]) &#123;</span><br><span class="line">        sett[rt &lt;&lt; <span class="number">1</span>] = sett[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = sett[rt];</span><br><span class="line">        add[rt &lt;&lt; <span class="number">1</span>] = add[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = <span class="number">0</span>;    <span class="comment">//注意这个也要下放</span></span><br><span class="line">        mul[rt &lt;&lt; <span class="number">1</span>] = mul[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> tmp = ((sett[rt] * sett[rt]) % mod) * sett[rt] % mod;</span><br><span class="line">        sum[rt &lt;&lt; <span class="number">1</span>] = ((len - (len &gt;&gt; <span class="number">1</span>)) % mod) * (sett[rt]) % mod;</span><br><span class="line">        sum[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = ((len &gt;&gt; <span class="number">1</span>) % mod) * (sett[rt]) % mod;</span><br><span class="line">        sum2[rt &lt;&lt; <span class="number">1</span>] = ((len - (len &gt;&gt; <span class="number">1</span>)) % mod) * ((sett[rt] * sett[rt]) % mod) % mod;</span><br><span class="line">        sum2[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = ((len &gt;&gt; <span class="number">1</span>) % mod) * ((sett[rt] * sett[rt]) % mod) % mod;</span><br><span class="line">        sum3[rt &lt;&lt; <span class="number">1</span>] = ((len - (len &gt;&gt; <span class="number">1</span>)) % mod) * tmp % mod;</span><br><span class="line">        sum3[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = ((len &gt;&gt; <span class="number">1</span>) % mod) * tmp % mod;</span><br><span class="line">        sett[rt] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (mul[rt] != <span class="number">1</span>) &#123;    <span class="comment">//这个就是mul[rt] != 1 ， 当时我这里没注意所以TLE了</span></span><br><span class="line">        mul[rt &lt;&lt; <span class="number">1</span>] = (mul[rt &lt;&lt; <span class="number">1</span>] * mul[rt]) % mod;</span><br><span class="line">        mul[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = (mul[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] * mul[rt]) % mod;</span><br><span class="line">        add[rt &lt;&lt; <span class="number">1</span>] = (add[rt &lt;&lt; <span class="number">1</span>] * mul[rt]) % mod;</span><br><span class="line">        add[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = (add[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] * mul[rt]) % mod;</span><br><span class="line">        <span class="keyword">int</span> tmp = (((mul[rt] * mul[rt]) % mod * mul[rt]) % mod);</span><br><span class="line">        sum[rt &lt;&lt; <span class="number">1</span>] = (sum[rt &lt;&lt; <span class="number">1</span>] * mul[rt]) % mod;</span><br><span class="line">        sum[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = (sum[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] * mul[rt]) % mod;</span><br><span class="line">        sum2[rt &lt;&lt; <span class="number">1</span>] = (sum2[rt &lt;&lt; <span class="number">1</span>] % mod) * ((mul[rt] * mul[rt]) % mod) % mod;</span><br><span class="line">        sum2[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = (sum2[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] % mod) * ((mul[rt] * mul[rt]) % mod) % mod;</span><br><span class="line">        sum3[rt &lt;&lt; <span class="number">1</span>] = (sum3[rt &lt;&lt; <span class="number">1</span>] % mod) * tmp % mod;</span><br><span class="line">        sum3[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = (sum3[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] % mod) * tmp % mod;</span><br><span class="line">        mul[rt] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (add[rt]) &#123;</span><br><span class="line">        add[rt &lt;&lt; <span class="number">1</span>] = (add[rt &lt;&lt; <span class="number">1</span>] + add[rt]) % mod;</span><br><span class="line">        add[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = (add[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] + add[rt]) % mod;</span><br><span class="line">        <span class="keyword">int</span> tmp = (add[rt] * add[rt] % mod) * add[rt] % mod;        <span class="comment">//注意sum3 , sum2 , sum的先后顺序</span></span><br><span class="line">        sum3[rt &lt;&lt; <span class="number">1</span>] = (sum3[rt &lt;&lt; <span class="number">1</span>] + tmp * (len - (len &gt;&gt; <span class="number">1</span>) % mod) % mod + <span class="number">3</span> * add[rt] * sum2[rt &lt;&lt; <span class="number">1</span>] % mod +</span><br><span class="line">                 <span class="number">3</span> * add[rt] * add[rt] % mod * sum[rt &lt;&lt; <span class="number">1</span>]) % mod;</span><br><span class="line">        sum3[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = (sum3[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] + tmp * ((len &gt;&gt; <span class="number">1</span>) % mod) % mod + <span class="number">3</span> * add[rt] * sum2[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] % mod +</span><br><span class="line">                         <span class="number">3</span> * add[rt] * add[rt] % mod * sum[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>]) % mod;</span><br><span class="line">        sum2[rt &lt;&lt; <span class="number">1</span>] = (sum2[rt &lt;&lt; <span class="number">1</span>] + ((add[rt] * add[rt] % mod) * ((len - (len &gt;&gt; <span class="number">1</span>)) % mod)) % mod +</span><br><span class="line">                         (<span class="number">2</span> * sum[rt &lt;&lt; <span class="number">1</span>] * add[rt] % mod)) % mod;</span><br><span class="line">        sum2[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = (sum2[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] + (((add[rt] * add[rt] % mod) * ((len &gt;&gt; <span class="number">1</span>)) % mod)) % mod +</span><br><span class="line">                             (<span class="number">2</span> * sum[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] * add[rt] % mod)) % mod;</span><br><span class="line"></span><br><span class="line">        sum[rt &lt;&lt; <span class="number">1</span>] = (sum[rt &lt;&lt; <span class="number">1</span>] + ((len - (len &gt;&gt; <span class="number">1</span>)) % mod) * add[rt] % mod) % mod;</span><br><span class="line">        sum[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = (sum[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] + ((len &gt;&gt; <span class="number">1</span>) % mod) * add[rt] % mod) % mod;</span><br><span class="line">        add[rt] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> op, <span class="keyword">int</span> L, <span class="keyword">int</span> R, <span class="keyword">int</span> c, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= L &amp;&amp; r &lt;= R) &#123;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="number">3</span>) &#123;</span><br><span class="line">            sett[rt] = c;</span><br><span class="line">            add[rt] = <span class="number">0</span>;</span><br><span class="line">            mul[rt] = <span class="number">1</span>;</span><br><span class="line">            sum[rt] = ((r - l + <span class="number">1</span>) % mod * c) % mod;</span><br><span class="line">            sum2[rt] = ((r - l + <span class="number">1</span>) % mod * ((c * c) % mod)) % mod;</span><br><span class="line">            sum3[rt] = ((r - l + <span class="number">1</span>) % mod * (((c * c) % mod) * c % mod)) % mod;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="number">2</span>) &#123;</span><br><span class="line">            mul[rt] = (mul[rt] * c) % mod;</span><br><span class="line">            add[rt] = (add[rt] * c) % mod;</span><br><span class="line">            sum[rt] = (sum[rt] * c) % mod;</span><br><span class="line">            sum2[rt] = sum2[rt] * (c * c % mod) % mod;</span><br><span class="line">            sum3[rt] = sum3[rt] * ((c * c % mod) * c % mod) % mod;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="number">1</span>) &#123;</span><br><span class="line">            add[rt] = (add[rt] + c) % mod;</span><br><span class="line">            <span class="keyword">int</span> tmp = (((c * c) % mod * c) % mod * (r - l + <span class="number">1</span>) % mod) % mod;</span><br><span class="line">            sum3[rt] = (sum3[rt] + tmp + <span class="number">3</span> * c * sum2[rt] % mod + <span class="number">3</span> * c * c % mod * sum[rt]) % mod;</span><br><span class="line">            sum2[rt] = (sum2[rt] + (c * c % mod * ((r - l + <span class="number">1</span>) % mod)) % mod + <span class="number">2</span> * sum[rt] * c % mod) % mod;</span><br><span class="line">            sum[rt] = (sum[rt] + (r - l + <span class="number">1</span>) % mod * c % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt, r - l + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> m = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (m &gt;= L) update(op, L, R, c, l, m, rt &lt;&lt; <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (m &lt; R) update(op, L, R, c, m + <span class="number">1</span>, r, rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L, <span class="keyword">int</span> R, <span class="keyword">int</span> p, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= L &amp;&amp; r &lt;= R) &#123;</span><br><span class="line">        <span class="keyword">if</span> (p == <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> sum[rt];</span><br><span class="line">        <span class="keyword">if</span> (p == <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> sum2[rt];</span><br><span class="line">        <span class="keyword">if</span> (p == <span class="number">3</span>)</span><br><span class="line">            <span class="keyword">return</span> sum3[rt];</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt, r - l + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (m &gt;= L)</span><br><span class="line">        ans = (ans + query(L, R, p, l, m, rt &lt;&lt; <span class="number">1</span>)) % mod;</span><br><span class="line">    <span class="keyword">if</span> (m &lt; R)</span><br><span class="line">        ans = (ans + query(L, R, p, m + <span class="number">1</span>, r, rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>)) % mod;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, op, x, y, c;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!m &amp;&amp; !n) <span class="keyword">break</span>;</span><br><span class="line">        build(<span class="number">1</span>, n, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">            op = read(), x = read(), y = read(), c = read();</span><br><span class="line">            <span class="keyword">if</span> (op &lt;= <span class="number">3</span>)</span><br><span class="line">                update(op, x, y, c, <span class="number">1</span>, n, <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, query(x, y, c, <span class="number">1</span>, n, <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第二种方法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-7</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">std</span>::pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">1e6</span> + <span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">4611686018427387903</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">10007</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x * w;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> flag[N &lt;&lt; <span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> val[N &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ms(flag, <span class="literal">true</span>);</span><br><span class="line">    ms(val, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> op, <span class="keyword">int</span> L, <span class="keyword">int</span> R, <span class="keyword">int</span> c, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= L &amp;&amp; r &lt;= R &amp;&amp; flag[rt])&#123;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="number">1</span>)</span><br><span class="line">            val[rt] = (val[rt] + c) % mod;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="number">2</span>)</span><br><span class="line">            val[rt] = (val[rt] * c) % mod;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="number">3</span>)</span><br><span class="line">            val[rt] = c;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flag[rt])&#123; <span class="comment">// pushdown</span></span><br><span class="line">        flag[rt &lt;&lt; <span class="number">1</span>] = flag[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        flag[rt] = <span class="number">0</span>;</span><br><span class="line">        val[rt &lt;&lt; <span class="number">1</span>] = val[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = val[rt];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (m &gt;= L)</span><br><span class="line">        update(op, L, R, c, l, m, rt &lt;&lt; <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (m &lt; R)</span><br><span class="line">        update(op, L, R, c, m + <span class="number">1</span>, r, rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (flag[rt &lt;&lt; <span class="number">1</span>] &amp;&amp; flag[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>])&#123;</span><br><span class="line">        <span class="keyword">if</span> (val[rt &lt;&lt; <span class="number">1</span>] == val[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>])&#123;</span><br><span class="line">            flag[rt] = <span class="number">1</span>;</span><br><span class="line">            val[rt] = val[rt &lt;&lt; <span class="number">1</span>];</span><br><span class="line">        &#125; <span class="keyword">else</span> flag[rt] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> flag[rt] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L, <span class="keyword">int</span> R, <span class="keyword">int</span> p, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= L &amp;&amp; r &lt;= R &amp;&amp; flag[rt])&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= p; ++i)&#123;</span><br><span class="line">            ans = (ans * val[rt]) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = ans * (r - l + <span class="number">1</span>) % mod;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flag[rt])&#123;</span><br><span class="line">        flag[rt &lt;&lt; <span class="number">1</span>] = flag[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        flag[rt] = <span class="number">0</span>;</span><br><span class="line">        val[rt &lt;&lt; <span class="number">1</span>] = val[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = val[rt];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (m &gt;= L)</span><br><span class="line">        ans += query(L, R, p, l, m, rt &lt;&lt; <span class="number">1</span>) % mod;</span><br><span class="line">    <span class="keyword">if</span> (m &lt; R)</span><br><span class="line">        ans += query(L, R, p, m + <span class="number">1</span>, r, rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>) % mod;</span><br><span class="line">    <span class="keyword">return</span> ans % mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m))&#123;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span> &amp;&amp; m == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">int</span> x, y, op, c;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">            op = read(), x = read(), y = read(), c = read();</span><br><span class="line">            <span class="keyword">if</span> (op &lt;= <span class="number">3</span>)</span><br><span class="line">                update(op, x, y, c, <span class="number">1</span>, n, <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, query(x, y, c, <span class="number">1</span>, n, <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-后继-1"><a href="#4-后继-1" class="headerlink" title="4. 后继"></a>4. 后继</h3><ol>
<li>线段树要开4倍空间, <a href="https://www.baidu.com/s?ie=UTF-8&wd=%E4%B8%BA%E4%BB%80%E4%B9%88%E7%BA%BF%E6%AE%B5%E6%A0%91%E8%A6%81%E5%BC%804%E5%80%8D%E7%A9%BA%E9%97%B4" target="_blank" rel="noopener">为什么</a></li>
<li>传lazy数组时， 不仅值要更新， lazy数组也要更新</li>
<li>update， build操作完， 别忘了pushup</li>
<li>uodate操作更新lazy数组时， 别忘了更新值。</li>
<li>左子树的区间长度<code>(len - (len &gt;&gt; 1))</code>&gt;= 右子树的区间长度 <code>(len &gt;&gt; 1)</code></li>
</ol>
<h2 id="F-CodeForces-797B-【The-Flash】的序列"><a href="#F-CodeForces-797B-【The-Flash】的序列" class="headerlink" title="F CodeForces 797B 【The__Flash】的序列"></a>F CodeForces 797B 【The__Flash】的序列</h2><h3 id="1-题目大意-5"><a href="#1-题目大意-5" class="headerlink" title="1. 题目大意"></a>1. 题目大意</h3><p>给你一个序列， 找出一个子序列， 使得其和为奇数且最大。</p>
<h3 id="2-分析-5"><a href="#2-分析-5" class="headerlink" title="2. 分析"></a>2. 分析</h3><p>先求出最大和， 也就是把大于0的数都加起来， 如果是奇数就输出， 如果是偶数就减去绝对值最小的奇数。</p>
<h3 id="3-AC代码-5"><a href="#3-AC代码-5" class="headerlink" title="3. AC代码"></a>3. AC代码</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-8</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">std</span>::pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">0x3f3f3f3f3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;ans)</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    ans = x * w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> a[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    read(n);</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">100000</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        read(a[i]);</span><br><span class="line">        <span class="keyword">if</span> (a[i] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            sum += a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a[i] &amp; <span class="number">1</span>)</span><br><span class="line">            flag = min(flag, <span class="built_in">abs</span>(a[i]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (sum &amp; <span class="number">1</span>) <span class="built_in">cout</span> &lt;&lt; sum &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; sum - flag &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="G-CodeForces-1223B-【The-Flash】的水题"><a href="#G-CodeForces-1223B-【The-Flash】的水题" class="headerlink" title="G CodeForces 1223B 【The__Flash】的水题"></a>G CodeForces 1223B 【The__Flash】的水题</h2><h3 id="1-题目大意-6"><a href="#1-题目大意-6" class="headerlink" title="1. 题目大意"></a>1. 题目大意</h3><p>字符串可以进行这样一个操作， 将相邻的字符（a ， b）变成（a， a）或者 （b， b）<br>可以进行任意次这种操作</p>
<h3 id="2-分析-6"><a href="#2-分析-6" class="headerlink" title="2. 分析"></a>2. 分析</h3><p>进行任意次操作后， 字符串里的字符就全一样了， 所以只需要判断两个字符串中是否有相同的字符即可。<br>把第一个字符串所有字符塞到<code>set&lt;char&gt;</code>里， 然后遍历第二个字符串， 看看能不能从里面找出一样的。</p>
<h3 id="3-AC代码-6"><a href="#3-AC代码-6" class="headerlink" title="3. AC代码"></a>3. AC代码</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-8</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">std</span>::pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">0x3f3f3f3f3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;ans)</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    ans = x * w;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> a, b;</span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">char</span>&gt;se;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    read(t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        se.clear();</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length(); ++i) se.insert(a[i]);</span><br><span class="line">        <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; b.length(); ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span> (se.find(b[i]) != se.end())&#123;</span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag) <span class="built_in">puts</span>(<span class="string">"YES"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"NO"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="H-CodeForces-960B-【The-Flash】的赠予"><a href="#H-CodeForces-960B-【The-Flash】的赠予" class="headerlink" title="H CodeForces 960B 【The__Flash】的赠予"></a>H CodeForces 960B 【The__Flash】的赠予</h2><h3 id="1-题目大意-7"><a href="#1-题目大意-7" class="headerlink" title="1. 题目大意"></a>1. 题目大意</h3><p>给你两个序列a, b， 定义<code>E = (ai - bi) ^ 2 | i : 1 - n</code> , 每一次操作可以使序列中的某个数加1或者减1， 问对序列a进行k1次操作， b进行k2次操作后E的最小值。</p>
<h3 id="2-分析-7"><a href="#2-分析-7" class="headerlink" title="2. 分析"></a>2. 分析</h3><p>每一次操作就是使 <code>|ai - bi|</code>的值减小1， 因为要求最小值， 所以对<code>|ai - bi|</code>的值越大的 操作 越值得。 例如： 对9 减1后， 实际减小的值为 <code>9 ^ 2 - 8 ^ 2 = 17</code>, 对8 减1后， 实际减小的值为 <code>8 ^ 2 - 7 ^ 2 = 15</code>, 可见对<code>|ai - bi|</code>的值越大的 操作 越值得。<br>然后就是把<code>|ai  - bi|</code>塞进优先队列里， 每次取top 对其减一， 执行k1 + k2次即可。</p>
<h3 id="3-AC代码-7"><a href="#3-AC代码-7" class="headerlink" title="3. AC代码"></a>3. AC代码</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-8</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">std</span>::pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">0x3f3f3f3f3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;ans)</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    ans = x * w;</span><br><span class="line">&#125;</span><br><span class="line">priority_queue&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">1003</span>], b[<span class="number">1003</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, k1, k2;</span><br><span class="line">    read(n), read(k1), read(k2);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        read(a[i]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        read(b[i]);</span><br><span class="line">        q.push(<span class="built_in">abs</span>(a[i] - b[i]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> k = k1 + k2;</span><br><span class="line">    <span class="keyword">while</span>(k--)&#123;</span><br><span class="line">        <span class="keyword">int</span> u = q.top();</span><br><span class="line">        q.pop();</span><br><span class="line">        q.push(<span class="built_in">abs</span>(u - <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">        <span class="keyword">int</span> u = q.top();</span><br><span class="line">        q.pop();</span><br><span class="line">        ans += <span class="number">1l</span>l * u * u; <span class="comment">// 注意会爆long long</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-后继-2"><a href="#4-后继-2" class="headerlink" title="4. 后继"></a>4. 后继</h3><ol>
<li>会爆ll， 前面 <code>* 1ll</code>。</li>
</ol>
<h2 id="I-SCU-4444-【The-Flash】的旅行"><a href="#I-SCU-4444-【The-Flash】的旅行" class="headerlink" title="I SCU 4444 【The__Flash】的旅行"></a>I SCU 4444 【The__Flash】的旅行</h2><h3 id="1-题目大意-8"><a href="#1-题目大意-8" class="headerlink" title="1. 题目大意"></a>1. 题目大意</h3><p>n个城市<code>（1 - n）</code>， 有<code>n * (n - 1) / 2</code>条路， 其中有m条路权值为a（具体哪m条已给出）， 剩下的权值为b， 无向图， 问城市1到城市n的最短路。</p>
<h3 id="2-分析-8"><a href="#2-分析-8" class="headerlink" title="2. 分析"></a>2. 分析</h3><p>打比赛的时候想的有点多， 其中有一个情况没想出来，<code>o(╥﹏╥)o</code></p>
<p>肯定要分为 <code>a &lt;= b</code> 和  <code>a &gt; b</code></p>
<p>当<code>a &lt;= b</code>时， 如果dis[1][n] == a, 那就是a。 否则跑a的最短路dis[1][n], 答案就是<code>min(dis[1][n], b)</code>。<br>当<code>a &gt; b</code>时， 如果dis[1][n] == b , 那就是b。<br>否则， 判断m条a边是不是把 城市1 或 城市n 堵上， 换句话说， 判断城市1 或者城市n所连的所有边是不是都是权值为a的边， 如果 城市1 或者城市n全是， 那么答案就是a， 因为 如果被全堵上， 走两条边的话， 其中一条边肯定是a边， 那就不如直接走1-n了。 如果都没被堵上， 答案就是走一条a边和走2条b边的最小值 <code>min(a, 2 * b)</code>。</p>
<p>如果不会自定义优先队列优先级， 请戳 <a href="https://solodance.top/2020/01/27/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E5%AE%9A%E4%B9%89%E4%BC%98%E5%85%88%E7%BA%A7%E7%9A%84%E6%96%B9%E6%B3%95/">优先队列定义优先级的方法</a></p>
<h3 id="3-AC代码-8"><a href="#3-AC代码-8" class="headerlink" title="3. AC代码"></a>3. AC代码</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-7</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">std</span>::pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">1e6</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">4611686018427387903</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;ans)</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    ans = x * w;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v, w, ne;</span><br><span class="line">&#125;ed[M];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> head[N], vis[N], cnt;</span><br><span class="line">ll dis[N];</span><br><span class="line"><span class="keyword">int</span> n, m, a, b;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        head[i] = <span class="number">-1</span>, vis[i] = <span class="number">0</span>, dis[i] = llINF;</span><br><span class="line">    &#125;</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> w)</span></span>&#123;</span><br><span class="line">    ed[cnt] = &#123;v, w, head[u]&#125;;</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">priority_queue&lt;P, <span class="built_in">vector</span>&lt;P&gt; , greater&lt;P&gt; &gt;q;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijk</span><span class="params">(<span class="keyword">int</span> u)</span></span>&#123;</span><br><span class="line">    dis[u] = <span class="number">0</span>;</span><br><span class="line">    q.push(P(<span class="number">0</span>, u));</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">        u = q.top().second;</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">if</span> (vis[u]) <span class="keyword">continue</span>;</span><br><span class="line">        vis[u] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; ~i; i = ed[i].ne)&#123;</span><br><span class="line">            <span class="keyword">int</span> v = ed[i].v, w = ed[i].w;</span><br><span class="line">            <span class="keyword">if</span> (dis[v] &gt; dis[u] + w)&#123;</span><br><span class="line">                dis[v] = dis[u] + w;</span><br><span class="line">                q.push(P(dis[v], v));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> u, v, dis1n, in1, in2;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;n, &amp;m, &amp;a, &amp;b))&#123;</span><br><span class="line">        init();</span><br><span class="line">        dis1n = b;</span><br><span class="line">        in1 = in2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">            read(u), read(v);</span><br><span class="line">            <span class="keyword">if</span> (u &gt; v) swap(u, v);</span><br><span class="line">            add(u, v, a);</span><br><span class="line">            add(v, u, a);</span><br><span class="line">            <span class="keyword">if</span> (u == <span class="number">1</span>) in1++;</span><br><span class="line">            <span class="keyword">if</span> (v == n) in2++;</span><br><span class="line">            <span class="keyword">if</span> (u == <span class="number">1</span> &amp;&amp; v == n) dis1n = a;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a &lt;= b)&#123;</span><br><span class="line">            <span class="keyword">if</span> (dis1n == a) <span class="built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                dijk(<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (dis[n] &lt;= b) <span class="built_in">cout</span> &lt;&lt; dis[n] &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; b &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (dis1n == b)&#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; b &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (in1 == n - <span class="number">1</span>) sum++;</span><br><span class="line">            <span class="keyword">if</span> (in2 == n - <span class="number">1</span>) sum++;</span><br><span class="line">            <span class="keyword">if</span> (sum &gt;= <span class="number">1</span>) <span class="built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; min(a, <span class="number">2</span> * b) &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="J-HDU-1556-【The-Flash】的球球"><a href="#J-HDU-1556-【The-Flash】的球球" class="headerlink" title="J HDU 1556 【The__Flash】的球球"></a>J HDU 1556 【The__Flash】的球球</h2><h3 id="1-题目大意-9"><a href="#1-题目大意-9" class="headerlink" title="1. 题目大意"></a>1. 题目大意</h3><p>中文题， qaq<br>N个气球排成一排，从左到右依次编号为1,2,3….N.每次给定2个整数a b(a &lt;= b),lele便为骑上他的“小飞鸽”牌电动车从气球a开始到气球b依次给每个气球涂一次颜色。但是N次以后lele已经忘记了第I个气球已经涂过几次颜色了，你能帮他算出每个气球被涂过几次颜色吗？</p>
<h3 id="2-分析-9"><a href="#2-分析-9" class="headerlink" title="2. 分析"></a>2. 分析</h3><p>差分模板题。</p>
<h3 id="3-AC代码-9"><a href="#3-AC代码-9" class="headerlink" title="3. AC代码"></a>3. AC代码</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-8</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">std</span>::pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">0x3f3f3f3f3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;ans)</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    ans = x * w;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, l, r;</span><br><span class="line"><span class="keyword">int</span> diff[N], ans[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) &amp;&amp; n)&#123;</span><br><span class="line">        ms(diff, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            read(l), read(r);</span><br><span class="line">            diff[l] ++;</span><br><span class="line">            diff[r + <span class="number">1</span>]--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> add = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">            add += diff[i];</span><br><span class="line">            ans[i] = add;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; ans[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans[n] &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="K-POJ-2018-【The-Flash】的牛牛"><a href="#K-POJ-2018-【The-Flash】的牛牛" class="headerlink" title="K POJ 2018 【The__Flash】的牛牛"></a>K POJ 2018 【The__Flash】的牛牛</h2><h3 id="1-题目大意-10"><a href="#1-题目大意-10" class="headerlink" title="1. 题目大意"></a>1. 题目大意</h3><p>给你一个长为n（<code>n &lt;= 1e5</code>）的序列， 求其长度至少为F区间， 其平均值*1000的最大值。</p>
<h3 id="2-分析-10"><a href="#2-分析-10" class="headerlink" title="2. 分析"></a>2. 分析</h3><p>一开始以为是dp， 然后没思路qaq</p>
<p>二分答案qaq， tql</p>
<p>没想到居然是二分答案， qaq。</p>
<p>关键是如何以更小的时间判断二分出来的值 （mid）是不是符合要求的，也就是 判断 长度至少为F的区间的平均值， 有没有大于mid的。</p>
<p>先说二分， 我要求最大的满足条件的数， 所以就是从后向前查询。 从后向前详情请点击 <a href="https://solodance.top/2020/01/23/%E4%BA%8C%E5%88%86%E6%80%BB%E7%BB%93/">二分总结</a></p>
<p>然后如何判断呢， 那就把区间都减去mid， 就变成找一段区间[l, r]， 使 <code>sum[r] - sum[l - 1] &gt;= 0</code> , 这样记录 sum[l - 1]的最小值即可。</p>
<p>还有一种做法， 请参考 <a href="https://www.cnblogs.com/liucongyu/p/6357610.html" target="_blank" rel="noopener">POJ2018 Best Cow Fences (二分答案+类前缀和)</a></p>
<h3 id="3-AC代码-10"><a href="#3-AC代码-10" class="headerlink" title="3. AC代码"></a>3. AC代码</h3><p>第一种做法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-7</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">std</span>::pair&lt;ll, ll&gt; P;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">1e6</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">4611686018427387903</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;ans)</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    ans = x * w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> n, k;</span><br><span class="line"><span class="keyword">double</span> sum[N];</span><br><span class="line"><span class="keyword">int</span> a[N];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">is</span><span class="params">(<span class="keyword">double</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        sum[i] = a[i] - x;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        sum[i] += sum[i - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">double</span> mi = INF * <span class="number">1.0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = k; i &lt;= n; ++i)&#123;</span><br><span class="line">        mi = min(mi, sum[i - k]);</span><br><span class="line">        <span class="keyword">if</span> (sum[i] - mi &gt;= -eps) <span class="comment">// 特别注意这里。。</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    read(n), read(k);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        read(a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = <span class="number">2000000</span>, m;</span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">        m = l + (r - l + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (is(<span class="number">1.0</span> * m / <span class="number">1000</span>))</span><br><span class="line">            l = m;</span><br><span class="line">        <span class="keyword">else</span> r = m - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; l &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>第二种做法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-7</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">std</span>::pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">1e6</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">4611686018427387903</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;ans)</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    ans = x * w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> n, k;</span><br><span class="line"><span class="keyword">int</span> sum[N];</span><br><span class="line"><span class="keyword">int</span> a[N];</span><br><span class="line"><span class="keyword">double</span> rsum[N];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">is</span><span class="params">(<span class="keyword">double</span> x)</span></span>&#123;</span><br><span class="line">    rsum[n] = a[n] - x;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">1</span>; --i)&#123;</span><br><span class="line">        rsum[i] = a[i] - x;</span><br><span class="line">        <span class="keyword">if</span> (rsum[i + <span class="number">1</span>] &gt; <span class="number">0</span>) rsum[i] += rsum[i + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n - k + <span class="number">1</span>; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span> (sum[i + k - <span class="number">1</span>] - sum[i - <span class="number">1</span>] &gt;= x * k)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (sum[i + k - <span class="number">1</span>] - sum[i - <span class="number">1</span>] - x * k + rsum[i + k] &gt;= <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    read(n), read(k);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        read(a[i]);</span><br><span class="line">        sum[i] = sum[i - <span class="number">1</span>] + a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = <span class="number">2000000</span>, m;</span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">        m = l + (r - l + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (is(<span class="number">1.0</span> * m / <span class="number">1000</span>))</span><br><span class="line">            l = m;</span><br><span class="line">        <span class="keyword">else</span> r = m - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; l &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-后继-3"><a href="#4-后继-3" class="headerlink" title="4. 后继"></a>4. 后继</h3><ol>
<li>知道如何在O(n)求 长度至少为k的 区间和的最大值</li>
</ol>
<h2 id="L-CodeForces-621B-【The-Flash】的鲨鲨"><a href="#L-CodeForces-621B-【The-Flash】的鲨鲨" class="headerlink" title="L CodeForces 621B 【The__Flash】的鲨鲨"></a>L CodeForces 621B 【The__Flash】的鲨鲨</h2><h3 id="1-题目大意-11"><a href="#1-题目大意-11" class="headerlink" title="1. 题目大意"></a>1. 题目大意</h3><p>1000 * 1000 的网格中， 处于对角线上的鲨鲨会互相打架， 求有对少对鲨鲨会打架。</p>
<h3 id="2-分析-11"><a href="#2-分析-11" class="headerlink" title="2. 分析"></a>2. 分析</h3><p>画图可分析， 处于对角线上的鲨鲨满足   <code>x + y = t (0&lt;= t &lt;= 2000)</code> 或者满足 <code>x - y = t (-1000 &lt;= t &lt;= 1000)</code>， 分别用两个数组储存在每一条对角线上的个数， 然后<code>n * (n - 1) / 2</code> 计算即可， 注意<code>x - y</code>的范围， 可以化成 <code>x - y + 1000 = t (0 &lt;= t &lt;= 2000)</code> ， 因为这个我re了两次QAQ</p>
<h3 id="3-AC代码-11"><a href="#3-AC代码-11" class="headerlink" title="3. AC代码"></a>3. AC代码</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-7</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">std</span>::pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">1e6</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">4611686018427387903</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;ans)</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    ans = x * w;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> hp, atk;</span><br><span class="line">    <span class="keyword">double</span> v;</span><br><span class="line">&#125;a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(node x, node y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">fabs</span>(x.v - y.v) &lt;= eps)</span><br><span class="line">        <span class="keyword">return</span> x.hp &gt; y.hp;</span><br><span class="line">    <span class="keyword">return</span> x.v &gt; y.v;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> a1[<span class="number">10003</span>], a2[<span class="number">10003</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, x, y;</span><br><span class="line">    read(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        read(x), read(y);</span><br><span class="line">        a1[x + y]++;</span><br><span class="line">        a2[x - y + <span class="number">1000</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">2000</span>; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span> (a1[i] &gt; <span class="number">1</span>)&#123;</span><br><span class="line">            ans += ll(a1[i]) * ll(a1[i] - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a2[i] &gt; <span class="number">1</span>)&#123;</span><br><span class="line">            ans += ll(a2[i]) * ll(a2[i] - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-后继-4"><a href="#4-后继-4" class="headerlink" title="4. 后继"></a>4. 后继</h3><ol>
<li>注意数组下标是不是负数 <code>o(╥﹏╥)o</code></li>
</ol>
<h2 id="M-Gym-102222H-【The-Flash】的达拉崩吧斑得贝迪卜多比鲁翁"><a href="#M-Gym-102222H-【The-Flash】的达拉崩吧斑得贝迪卜多比鲁翁" class="headerlink" title="M Gym 102222H 【The__Flash】的达拉崩吧斑得贝迪卜多比鲁翁"></a>M Gym 102222H 【The__Flash】的达拉崩吧斑得贝迪卜多比鲁翁</h2><h3 id="1-题目大意-12"><a href="#1-题目大意-12" class="headerlink" title="1. 题目大意"></a>1. 题目大意</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">很久很久以前</span><br><span class="line"></span><br><span class="line">巨龙突然出现</span><br><span class="line"></span><br><span class="line">带来灾难带走了公主又消失不见</span><br><span class="line"></span><br><span class="line">王国十分危险</span><br><span class="line"></span><br><span class="line">世间谁最勇敢</span><br><span class="line"></span><br><span class="line">一位勇者赶来大声喊</span><br><span class="line"></span><br><span class="line">“我要带上最好的剑</span><br><span class="line"></span><br><span class="line">翻过最高的山</span><br><span class="line"></span><br><span class="line">闯进最深的森林</span><br><span class="line"></span><br><span class="line">把公主带回到面前”</span><br><span class="line"></span><br><span class="line">国王非常高兴忙问他的姓名</span><br><span class="line"></span><br><span class="line">年轻人想了想</span><br><span class="line"></span><br><span class="line">他说</span><br><span class="line"></span><br><span class="line">“陛下我叫达拉崩吧斑得贝迪卜多比鲁翁</span><br><span class="line"></span><br><span class="line">再来一次</span><br><span class="line"></span><br><span class="line">达拉崩巴斑得贝迪卜多比鲁翁”</span><br><span class="line"></span><br><span class="line">“是不是达拉崩吧斑得贝迪卜多比鲁翁”</span><br><span class="line"></span><br><span class="line">“对对达拉崩巴斑得贝迪卜多比鲁翁”</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">幽幽小路上，英雄达拉崩吧遇到 <span class="keyword">n</span> 只怪兽</span><br><span class="line"></span><br><span class="line">每只怪兽有其相应的体力值 HP 和 攻击值 ATK</span><br><span class="line"></span><br><span class="line">达拉崩吧每次可对怪物造成一次伤害，伤害值为 K（其中，K 在数值上为达拉崩吧攻击这只怪兽的次数）</span><br><span class="line"></span><br><span class="line">然鹅，每次存活的怪兽都可以攻击我们的英雄达拉崩吧</span><br><span class="line"></span><br><span class="line">当怪兽的体力值小于等于时，怪兽死亡.</span><br><span class="line"></span><br><span class="line">现请你选择一种打怪兽的顺序，使得达拉崩吧收到的伤害和最小，并输出收到最小的伤害和.</span><br><span class="line">————————————————</span><br><span class="line">版权声明：本文为CSDN博主「The___Flash」的原创文章，遵循 <span class="keyword">CC</span> 4.0 <span class="keyword">BY</span>-<span class="keyword">SA</span> 版权协议，转载请附上原文出处链接及本声明。</span><br><span class="line">原文链接：https:<span class="comment">//blog.csdn.net/The___Flash/article/details/103939876</span></span><br></pre></td></tr></table></figure>

<h3 id="2-分析-12"><a href="#2-分析-12" class="headerlink" title="2. 分析"></a>2. 分析</h3><p>显而易见， 贪心， 但是当时没会用理解的思维推理， 而是臆测， 不过差一点（很多）就猜对了QAQ</p>
<p>最优情况肯定是把一只怪兽打到死。先只考虑攻击两只怪兽的优先级问题。</p>
<p>设t[i] 是把第i只怪兽打死需要的次数， sum是所有怪兽的总攻击力和</p>
<p>先进攻第一只 所受的攻击 是 <code>sum * t[1] + (sum - atk[1]) * t[2]</code><br>先进攻第二只 所受的攻击 是 <code>sum * t[2] + (sum - atk[2]) * t[1]</code></p>
<p>如果要先攻击第二只</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sum * t[<span class="number">1</span>] + (sum - atk[<span class="number">1</span>]) * t[<span class="number">2</span>] &gt;= sum * t[<span class="number">2</span>] + (sum - atk[<span class="number">2</span>]) * t[<span class="number">1</span>]</span><br><span class="line">sum * t[<span class="number">1</span>] + sum * t[<span class="number">2</span>] - atk[<span class="number">1</span>] * t[<span class="number">2</span>] &gt;= sum * t[<span class="number">2</span>] + sum * t[<span class="number">1</span>] - atk[<span class="number">2</span>] * t[<span class="number">1</span>]</span><br><span class="line">atk[<span class="number">2</span>] * t[<span class="number">1</span>] &gt;= atk[<span class="number">1</span>] * t[<span class="number">2</span>]</span><br><span class="line">atk[<span class="number">2</span>] / t[<span class="number">2</span>] &gt;= atk[<span class="number">1</span>] / t[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<p>所以按照 <code>atk[i] / t[i]</code>排序就行。</p>
<p>那么怎么求把第i只怪兽打死需要的次数呢， 二分次数就行了。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-7</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a, b) memset((a), (b), sizeof (a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">std</span>::pair&lt;ll, ll&gt; P;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M = <span class="number">1e6</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> ll llINF = <span class="number">4611686018427387903</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;ans)</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, w = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'-'</span>) w = <span class="number">-1</span>;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">        x = x * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    ans = x * w;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> hp, atk;</span><br><span class="line">    <span class="keyword">double</span> v;</span><br><span class="line">&#125;a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(node x, node y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">fabs</span>(x.v - y.v) &lt;= eps)</span><br><span class="line">        <span class="keyword">return</span> x.hp &gt; y.hp;</span><br><span class="line">    <span class="keyword">return</span> x.v &gt; y.v;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> low = <span class="number">0</span>, high = <span class="number">500</span>, m;</span><br><span class="line">    <span class="keyword">while</span>(low &lt; high)&#123;</span><br><span class="line">        m = low + (high - low) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (m * (m + <span class="number">1</span>) / <span class="number">2</span> &gt;= x)</span><br><span class="line">            high = m;</span><br><span class="line">        <span class="keyword">else</span> low = m + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> low;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t, n;</span><br><span class="line">    ll ans, sum;</span><br><span class="line">    read(t);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> tt = <span class="number">1</span>; tt &lt;= t; ++tt)&#123;</span><br><span class="line">        read(n);</span><br><span class="line">        sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            read(a[i].hp), read(a[i].atk);</span><br><span class="line">            a[i].hp = search(a[i].hp);</span><br><span class="line">            a[i].v = <span class="number">1.0</span> * a[i].atk / a[i].hp; <span class="comment">// 这里也可以不用v ， 而直接用 atk[2] * search(hp[1]) &gt;= atk[1] * search(hp[2]) 也行</span></span><br><span class="line">            sum += a[i].atk;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = <span class="number">0</span>;</span><br><span class="line">        sort(a, a + n, cmp);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            ans += sum * (a[i].hp);</span><br><span class="line">            sum -= a[i].atk;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d: %lld\n"</span>, tt, ans);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-后继-5"><a href="#4-后继-5" class="headerlink" title="4. 后继"></a>4. 后继</h3><p>常见贪心证明手段：</p>
<ol>
<li>临项交换：</li>
</ol>
<p>证明在任何局面下，任何对局部最优策略的微小改变都会造成整体结果变差，经常用于以“排序”为贪心策略的证明.</p>
<ol start="2">
<li>范围缩放：</li>
</ol>
<p>证明任何对局面最优策略作用范围的拓展都不会造成整体结果变差.</p>
<ol start="3">
<li>决策包容性：</li>
</ol>
<p>证明在任意局面下，作出局部最优决策以后，在问题状态空间中的可达集合包含了作出其他任何决策后的可达集合。换言之，这个局部最优策略提供的可能性包含其他所有策略提供的可能性.</p>
<ol start="4">
<li><p>反证法</p>
</li>
<li><p>数学归纳法</p>
</li>
</ol>
<p>例题：</p>
<p><a href="https://vjudge.net/problem/POJ-3614" target="_blank" rel="noopener">POJ-3614</a></p>
<p><a href="https://vjudge.net/problem/POJ-3190" target="_blank" rel="noopener">POJ-3190</a></p>
<p><a href="https://vjudge.net/problem/POJ-1328" target="_blank" rel="noopener">POJ-1328</a></p>
<p><a href="https://ac.nowcoder.com/acm/contest/1003/D" target="_blank" rel="noopener">国王游戏</a></p>
<p><a href="https://vjudge.net/problem/POJ-2054" target="_blank" rel="noopener">POJ-2054</a></p>
<pre><code>恰似你一低头的温柔，较弱水莲花不胜寒风的娇羞， 我的心为你悸动不休。  --mingfuyan

千万不要图快——如果没有足够的时间用来实践， 那么学得快， 忘得也快。</code></pre></div><div class="post-copyright"><blockquote><p>原文作者: Mingfu Yan</p><p>原文链接: <a href="https://solodance.top/2020/01/29/SDNU_ACM_ICPC_2020_Winter_Practice_2nd【解题报告】/">https://solodance.top/2020/01/29/SDNU_ACM_ICPC_2020_Winter_Practice_2nd【解题报告】/</a></p><p>版权声明: 转载请注明出处(必须保留作者署名及链接)</p></blockquote></div><div class="tags"><a href="/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/">最短路</a><a href="/tags/%E8%B4%AA%E5%BF%83/">贪心</a><a href="/tags/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/">拓扑排序</a><a href="/tags/Acm/">Acm</a><a href="/tags/%E4%BA%8C%E7%BB%B4%E5%89%8D%E7%BC%80%E5%92%8C/">二维前缀和</a><a href="/tags/%E7%A6%BB%E6%95%A3%E5%8C%96/">离散化</a><a href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/">线段树</a><a href="/tags/%E5%B7%AE%E5%88%86/">差分</a><a href="/tags/%E4%BA%8C%E5%88%86/">二分</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2020/01/31/SDNU_ACM_ICPC_2020_Winter_Practice_3rd%E3%80%90%E8%A7%A3%E9%A2%98%E6%8A%A5%E5%91%8A%E3%80%91/" class="pre">SDNU_ACM_ICPC_2020_Winter_Practice_3rd【解题报告】</a><a href="/2020/01/29/SDNU_ACM_ICPC_2020_Winter_Practice_1st%E3%80%90%E8%A7%A3%E9%A2%98%E6%8A%A5%E5%91%8A%E3%80%91/" class="next">SDNU_ACM_ICPC_2020_Winter_Practice_1st【解题报告】</a></div><div id="comments"><div id="container"><script type="text/javascript" src="https://unpkg.com/gitalk/dist/gitalk.min.js?v=2.0.4"></script><script type="text/javascript" src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js?v=2.0.4"></script><script>var gitalk = new Gitalk({
  clientID: '96a865f28822a57d4345',
  clientSecret: 'e30c2aee994dd988d3e3f8b0fcc6d42b05ce6bc2',
  repo: 'blog-comment',
  owner: 'mingfuyan',
  admin: ['mingfuyan'],
  id: md5(window.location.pathname),
  distractionFreeMode: false,
  language: 'zh-CN',
  pagerDirection: 'last'
})
gitalk.render('container')</script></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#A-HDU-1559-【The-Flash】的矩阵"><span class="toc-text">A HDU 1559 【The__Flash】的矩阵</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-题目大意"><span class="toc-text">1. 题目大意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-分析"><span class="toc-text">2. 分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-AC代码"><span class="toc-text">3. AC代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B-HDU-3790-【The-Flash】的疑惑"><span class="toc-text">B HDU 3790 【The__Flash】的疑惑</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-题目大意-1"><span class="toc-text">1. 题目大意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-分析-1"><span class="toc-text">2. 分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-AC代码-1"><span class="toc-text">3. AC代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-CodeForces-670C-【The-Flash】的电影"><span class="toc-text">C CodeForces 670C 【The__Flash】的电影</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-题目大意-2"><span class="toc-text">1. 题目大意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-分析-2"><span class="toc-text">2. 分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-AC代码-2"><span class="toc-text">3. AC代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-后继"><span class="toc-text">4. 后继</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#D-UVA-10305-【The-Flash】的排序"><span class="toc-text">D UVA 10305 【The__Flash】的排序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-题目大意-3"><span class="toc-text">1. 题目大意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-分析-3"><span class="toc-text">2. 分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-AC代码-3"><span class="toc-text">3. AC代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#E-HDU-4578-【The-Flash】的操作"><span class="toc-text">E HDU 4578 【The__Flash】的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-题目大意-4"><span class="toc-text">1. 题目大意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-分析-4"><span class="toc-text">2. 分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-AC代码-4"><span class="toc-text">3. AC代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-后继-1"><span class="toc-text">4. 后继</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#F-CodeForces-797B-【The-Flash】的序列"><span class="toc-text">F CodeForces 797B 【The__Flash】的序列</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-题目大意-5"><span class="toc-text">1. 题目大意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-分析-5"><span class="toc-text">2. 分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-AC代码-5"><span class="toc-text">3. AC代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#G-CodeForces-1223B-【The-Flash】的水题"><span class="toc-text">G CodeForces 1223B 【The__Flash】的水题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-题目大意-6"><span class="toc-text">1. 题目大意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-分析-6"><span class="toc-text">2. 分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-AC代码-6"><span class="toc-text">3. AC代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#H-CodeForces-960B-【The-Flash】的赠予"><span class="toc-text">H CodeForces 960B 【The__Flash】的赠予</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-题目大意-7"><span class="toc-text">1. 题目大意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-分析-7"><span class="toc-text">2. 分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-AC代码-7"><span class="toc-text">3. AC代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-后继-2"><span class="toc-text">4. 后继</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#I-SCU-4444-【The-Flash】的旅行"><span class="toc-text">I SCU 4444 【The__Flash】的旅行</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-题目大意-8"><span class="toc-text">1. 题目大意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-分析-8"><span class="toc-text">2. 分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-AC代码-8"><span class="toc-text">3. AC代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#J-HDU-1556-【The-Flash】的球球"><span class="toc-text">J HDU 1556 【The__Flash】的球球</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-题目大意-9"><span class="toc-text">1. 题目大意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-分析-9"><span class="toc-text">2. 分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-AC代码-9"><span class="toc-text">3. AC代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#K-POJ-2018-【The-Flash】的牛牛"><span class="toc-text">K POJ 2018 【The__Flash】的牛牛</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-题目大意-10"><span class="toc-text">1. 题目大意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-分析-10"><span class="toc-text">2. 分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-AC代码-10"><span class="toc-text">3. AC代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-后继-3"><span class="toc-text">4. 后继</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#L-CodeForces-621B-【The-Flash】的鲨鲨"><span class="toc-text">L CodeForces 621B 【The__Flash】的鲨鲨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-题目大意-11"><span class="toc-text">1. 题目大意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-分析-11"><span class="toc-text">2. 分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-AC代码-11"><span class="toc-text">3. AC代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-后继-4"><span class="toc-text">4. 后继</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#M-Gym-102222H-【The-Flash】的达拉崩吧斑得贝迪卜多比鲁翁"><span class="toc-text">M Gym 102222H 【The__Flash】的达拉崩吧斑得贝迪卜多比鲁翁</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-题目大意-12"><span class="toc-text">1. 题目大意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-分析-12"><span class="toc-text">2. 分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-后继-5"><span class="toc-text">4. 后继</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/01/31/SDNU_ACM_ICPC_2020_Winter_Practice_3rd%E3%80%90%E8%A7%A3%E9%A2%98%E6%8A%A5%E5%91%8A%E3%80%91/">SDNU_ACM_ICPC_2020_Winter_Practice_3rd【解题报告】</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/29/SDNU_ACM_ICPC_2020_Winter_Practice_2nd%E3%80%90%E8%A7%A3%E9%A2%98%E6%8A%A5%E5%91%8A%E3%80%91/">SDNU_ACM_ICPC_2020_Winter_Practice_2nd【解题报告】</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/29/SDNU_ACM_ICPC_2020_Winter_Practice_1st%E3%80%90%E8%A7%A3%E9%A2%98%E6%8A%A5%E5%91%8A%E3%80%91/">SDNU_ACM_ICPC_2020_Winter_Practice_1st【解题报告】</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/27/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E5%AE%9A%E4%B9%89%E4%BC%98%E5%85%88%E7%BA%A7%E7%9A%84%E6%96%B9%E6%B3%95/">优先队列定义优先级的方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/27/Jetbrains%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7%E6%B1%87%E6%80%BB/">Jetbrains实用技巧汇总</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/24/%E5%85%B3%E4%BA%8E%E5%A4%84%E7%90%86%E5%8D%9A%E5%AE%A2%E6%97%A7%E6%96%87%E7%AB%A0%E7%9A%84%E8%AF%B4%E6%98%8E/">关于处理博客旧文章的说明</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/23/2019%E7%89%9B%E5%AE%A2%E5%9B%BD%E5%BA%86%E9%9B%86%E8%AE%AD%E6%B4%BE%E5%AF%B9%20H-Highway%20(dijk%E6%B1%82%E6%A0%91%E7%9A%84%E7%9B%B4%E5%BE%84%EF%BC%88%E5%BD%93%E7%84%B6%E8%BF%98%E6%9C%89%E6%9B%B4%E4%BC%98%E7%9A%84%EF%BC%89)/">2019牛客国庆集训派对 H-Highway (dijk求树的直径（当然还有更优的）)</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/23/2019%E7%89%9B%E5%AE%A2%E5%9B%BD%E5%BA%86%E9%9B%86%E8%AE%AD%E6%B4%BE%E5%AF%B9%20E-Partial%20Sum%20%EF%BC%88%E7%BB%9D%E5%AF%B9%E5%80%BC%E7%9A%84%E7%89%B9%E6%AE%8A%E6%80%A7%EF%BC%89/">2019牛客国庆集训派对 E-Partial Sum （绝对值的特殊性）</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/23/2019%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1%E8%AE%AD%E7%BB%83%E8%B5%9B%E7%AC%AC%E4%BA%94%E5%9C%BAB%E9%A2%98generator%201%EF%BC%88%E5%8D%81%E8%BF%9B%E5%88%B6%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%EF%BC%89/">2019牛客多校训练赛第五场B题generator 1（十进制矩阵快速幂）</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/23/2019%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1%E8%AE%AD%E7%BB%83%E8%B5%9B%E7%AC%AC%E4%BA%94%E5%9C%BAA%E9%A2%98%20%EF%BC%88%E6%80%9D%E7%BB%B4%E9%A2%98%EF%BC%89/">2019牛客多校训练赛第五场A题 （思维题）</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/2019%E7%89%9B%E5%AE%A2%E5%9B%BD%E5%BA%86%E9%9B%86%E8%AE%AD%E6%B4%BE%E5%AF%B9/">2019牛客国庆集训派对</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2019%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1%E8%AE%AD%E7%BB%83%E8%B5%9B/">2019牛客多校训练赛</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/AC%E8%87%AA%E5%8A%A8%E6%9C%BA/">AC自动机</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/KMP/">KMP</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Manacher/">Manacher</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Solo-Dance/">Solo_Dance</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/acm%E5%B0%8F%E7%9F%A5%E8%AF%86/">acm小知识</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/dfs/">dfs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/lca/">lca</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/lis/">lis</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/stl/">stl</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tarjan/">tarjan</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ubuntu/">ubuntu</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/vps/">vps</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%8C%E5%88%86/">二分</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%8C%E5%88%86%E5%9B%BE/">二分图</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%8C%E5%8F%89%E6%A0%91/">二叉树</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">动态规划</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8D%95%E8%B0%83%E6%A0%88/">单调栈</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A5%87%E5%A6%99%E6%80%9D%E7%BB%B4/">奇妙思维</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/">实用技巧</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B0%BA%E5%8F%96%E6%B3%95/">尺取法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%B6%E6%9F%A5%E9%9B%86/">并查集</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%80%9D%E7%BB%B4%E9%A2%98/">思维题</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%80%BB%E7%BB%93/">总结</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%89%BE%E8%A7%84%E5%BE%8B/">找规律</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/">拓扑排序</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%80%E7%9F%AD%E8%B7%AF/">最短路</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A8%A1%E6%8B%9F/">模拟</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%8E%84%E5%AD%A6%E9%A2%98/">玄学题</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82/">矩阵快速幂</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%A7%A3%E9%A2%98%E6%8A%A5%E5%91%8A/">解题报告</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%80%92%E6%8E%A8/">递推</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9B%B6%E7%A2%8E%E5%B0%8F%E7%9F%A5%E8%AF%86/">零碎小知识</a><span class="category-list-count">9</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/acm/" style="font-size: 15px;">acm</a> <a href="/tags/%E6%A0%91%E7%9A%84%E7%9B%B4%E5%BE%84/" style="font-size: 15px;">树的直径</a> <a href="/tags/%E7%BB%9D%E5%AF%B9%E5%80%BC%E7%9A%84%E7%89%B9%E6%AE%8A%E6%80%A7/" style="font-size: 15px;">绝对值的特殊性</a> <a href="/tags/%E6%80%9D%E7%BB%B4/" style="font-size: 15px;">思维</a> <a href="/tags/dfs/" style="font-size: 15px;">dfs</a> <a href="/tags/%E6%9A%B4%E5%8A%9B%E6%9E%9A%E4%B8%BE/" style="font-size: 15px;">暴力枚举</a> <a href="/tags/2019%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1%E8%AE%AD%E7%BB%83%E8%B5%9B/" style="font-size: 15px;">2019牛客多校训练赛</a> <a href="/tags/%E5%8D%95%E8%B0%83%E6%A0%88/" style="font-size: 15px;">单调栈</a> <a href="/tags/%E6%80%9D%E7%BB%B4%E9%A2%98/" style="font-size: 15px;">思维题</a> <a href="/tags/%E6%96%87%E4%BB%B6%E8%AF%BB%E5%85%A5%E8%BE%93%E5%87%BA/" style="font-size: 15px;">文件读入输出</a> <a href="/tags/acm%E5%B0%8F%E7%9F%A5%E8%AF%86/" style="font-size: 15px;">acm小知识</a> <a href="/tags/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82/" style="font-size: 15px;">矩阵快速幂</a> <a href="/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/" style="font-size: 15px;">小技巧</a> <a href="/tags/C-%E6%B5%81%E6%8E%A7%E5%88%B6%E5%87%BD%E6%95%B0/" style="font-size: 15px;">C++ 流控制函数</a> <a href="/tags/clion/" style="font-size: 15px;">clion</a> <a href="/tags/%E8%BE%93%E5%87%BA%E4%B9%B1%E7%A0%81/" style="font-size: 15px;">输出乱码</a> <a href="/tags/%E6%A8%A1%E6%8B%9F/" style="font-size: 15px;">模拟</a> <a href="/tags/Manacher/" style="font-size: 15px;">Manacher</a> <a href="/tags/%E6%89%93%E8%A1%A8/" style="font-size: 15px;">打表</a> <a href="/tags/%E6%89%BE%E8%A7%84%E5%BE%8B/" style="font-size: 15px;">找规律</a> <a href="/tags/%E6%B0%B4%E9%A2%98/" style="font-size: 15px;">水题</a> <a href="/tags/%E7%8E%84%E5%AD%A6%E9%A2%98/" style="font-size: 15px;">玄学题</a> <a href="/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/" style="font-size: 15px;">最短路</a> <a href="/tags/dijkstra/" style="font-size: 15px;">dijkstra</a> <a href="/tags/%E9%80%92%E6%8E%A8/" style="font-size: 15px;">递推</a> <a href="/tags/lca/" style="font-size: 15px;">lca</a> <a href="/tags/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/" style="font-size: 15px;">实用技巧</a> <a href="/tags/Jetbrains/" style="font-size: 15px;">Jetbrains</a> <a href="/tags/KMP/" style="font-size: 15px;">KMP</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 15px;">总结</a> <a href="/tags/AC%E8%87%AA%E5%8A%A8%E6%9C%BA/" style="font-size: 15px;">AC自动机</a> <a href="/tags/%E6%A8%A1%E6%9D%BF%E9%A2%98/" style="font-size: 15px;">模板题</a> <a href="/tags/%E4%BA%8C%E5%88%86%E5%9B%BE/" style="font-size: 15px;">二分图</a> <a href="/tags/%E6%9C%80%E5%A4%A7%E7%8B%AC%E7%AB%8B%E9%9B%86/" style="font-size: 15px;">最大独立集</a> <a href="/tags/%E5%B0%BA%E5%8F%96%E6%B3%95/" style="font-size: 15px;">尺取法</a> <a href="/tags/%E6%A8%A1%E6%9D%BF/" style="font-size: 15px;">模板</a> <a href="/tags/%E7%A7%8D%E7%B1%BB%E5%B9%B6%E6%9F%A5%E9%9B%86/" style="font-size: 15px;">种类并查集</a> <a href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86%E4%BC%98%E5%8C%96/" style="font-size: 15px;">并查集优化</a> <a href="/tags/%E8%B4%AA%E5%BF%83/" style="font-size: 15px;">贪心</a> <a href="/tags/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91/" style="font-size: 15px;">斐波那契</a> <a href="/tags/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/" style="font-size: 15px;">拓扑排序</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84dfs%E5%BA%8F%E5%88%97/" style="font-size: 15px;">二叉树的dfs序列</a> <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 15px;">动态规划</a> <a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size: 15px;">数学</a> <a href="/tags/ubuntu/" style="font-size: 15px;">ubuntu</a> <a href="/tags/%E5%8F%8C%E7%B3%BB%E7%BB%9F/" style="font-size: 15px;">双系统</a> <a href="/tags/Acm/" style="font-size: 15px;">Acm</a> <a href="/tags/stl/" style="font-size: 15px;">stl</a> <a href="/tags/c-11/" style="font-size: 15px;">c++11</a> <a href="/tags/%E9%9B%B6%E7%A2%8E%E5%B0%8F%E7%9F%A5%E8%AF%86/" style="font-size: 15px;">零碎小知识</a> <a href="/tags/%E5%8C%BA%E9%97%B4dp/" style="font-size: 15px;">区间dp</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%8C%83%E5%9B%B4/" style="font-size: 15px;">数据类型范围</a> <a href="/tags/map/" style="font-size: 15px;">map</a> <a href="/tags/c%EF%BC%8Cc-%E5%A4%B4%E6%96%87%E4%BB%B6/" style="font-size: 15px;">c，c++头文件</a> <a href="/tags/%E4%BA%8C%E7%BB%B4%E5%89%8D%E7%BC%80%E5%92%8C/" style="font-size: 15px;">二维前缀和</a> <a href="/tags/%E7%A6%BB%E6%95%A3%E5%8C%96/" style="font-size: 15px;">离散化</a> <a href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/" style="font-size: 15px;">线段树</a> <a href="/tags/%E5%B7%AE%E5%88%86/" style="font-size: 15px;">差分</a> <a href="/tags/%E4%BA%8C%E5%88%86/" style="font-size: 15px;">二分</a> <a href="/tags/stl-map/" style="font-size: 15px;">stl-map</a> <a href="/tags/%E5%AF%B9%E6%8B%8D/" style="font-size: 15px;">对拍</a> <a href="/tags/int128/" style="font-size: 15px;">int128</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/vps/" style="font-size: 15px;">vps</a> <a href="/tags/lis/" style="font-size: 15px;">lis</a> <a href="/tags/codeblocks/" style="font-size: 15px;">codeblocks</a> <a href="/tags/%E5%8D%9A%E5%BC%88/" style="font-size: 15px;">博弈</a> <a href="/tags/dp/" style="font-size: 15px;">dp</a> <a href="/tags/%E7%9F%A9%E9%98%B5/" style="font-size: 15px;">矩阵</a> <a href="/tags/%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F/" style="font-size: 15px;">差分约束</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 15px;">随笔</a> <a href="/tags/%E5%B0%8F%E7%9F%A5%E8%AF%86/" style="font-size: 15px;">小知识</a> <a href="/tags/%E6%95%B0%E5%AD%A6%E6%96%B9%E6%B3%95/" style="font-size: 15px;">数学方法</a> <a href="/tags/Solo-Dance/" style="font-size: 15px;">Solo_Dance</a> <a href="/tags/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/" style="font-size: 15px;">优先队列</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 15px;">数据结构</a> <a href="/tags/spfa/" style="font-size: 15px;">spfa</a> <a href="/tags/%E9%A2%98%E8%A7%A3/" style="font-size: 15px;">题解</a> <a href="/tags/%E5%B8%A6%E6%9D%83%E5%B9%B6%E6%9F%A5%E9%9B%86/" style="font-size: 15px;">带权并查集</a> <a href="/tags/kuangbin%E5%B8%A6%E4%BD%A0%E9%A3%9E/" style="font-size: 15px;">kuangbin带你飞</a> <a href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/" style="font-size: 15px;">并查集</a> <a href="/tags/tarjan/" style="font-size: 15px;">tarjan</a> <a href="/tags/%E5%BC%BA%E8%BF%9E%E9%80%9A%E5%88%86%E9%87%8F/" style="font-size: 15px;">强连通分量</a> <a href="/tags/%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 15px;">波兰表达式</a> <a href="/tags/%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 15px;">逆波兰表达式</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size: 15px;">二叉树</a> <a href="/tags/%E6%9F%A5%E6%89%BE/" style="font-size: 15px;">查找</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 15px;">笔记</a> <a href="/tags/%E7%BB%84%E5%90%88%E6%95%B0%E6%89%93%E8%A1%A8/" style="font-size: 15px;">组合数打表</a> <a href="/tags/%E7%9F%A9%E5%BD%A2%E7%9B%B8%E4%BA%A4/" style="font-size: 15px;">矩形相交</a> <a href="/tags/%E7%BB%99%E5%87%BA%E4%B8%89%E8%A7%92%E5%BD%A2%E4%B8%89%E7%82%B9%E5%9D%90%E6%A0%87%E6%B1%82%E9%9D%A2%E7%A7%AF/" style="font-size: 15px;">给出三角形三点坐标求面积</a> <a href="/tags/%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86/" style="font-size: 15px;">数学知识</a> <a href="/tags/%E6%89%8B%E5%8A%A8%E5%8A%A0%E6%A0%88/" style="font-size: 15px;">手动加栈</a> <a href="/tags/ssr/" style="font-size: 15px;">ssr</a> <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E6%80%BB%E7%BB%93/" style="font-size: 15px;">动态规划总结</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">90</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://github.com/mingfuyan" title="Mingfu Yan's github" target="_blank">Mingfu Yan's github</a><ul></ul><a href="https://www.hs-lotus.top/" title="Yokoshimaの" target="_blank">Yokoshimaの</a><ul></ul><a href="https://sdnuqp.cn/" title="浮生若梦" target="_blank">浮生若梦</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Mingfu Yan.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-144281427-1','auto');ga('send','pageview');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?674916fe5d7eb3ba83213562bee9f214";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/search.json.js?v=2.0.4"></script><script>(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();</script><script type="text/javascript" src="/js/toctotop.js?v=2.0.4" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>